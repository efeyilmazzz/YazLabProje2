<Window x:Class="projedeneme.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Graph Visualizer" Height="720" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#111111">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="180"/>
        </Grid.RowDefinitions>

        <!-- TOP BAR -->
        <Border Grid.Row="0" CornerRadius="10" Padding="10" Background="#1A1A1A" Margin="0,0,0,10">
            <DockPanel LastChildFill="False">

                <!-- Left: CSV -->
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                    <TextBlock Text="CSV:" Foreground="White" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <ComboBox x:Name="CsvCombo" Width="170" SelectedIndex="0">
                        <ComboBoxItem Content="small.csv"/>
                        <ComboBoxItem Content="medium.csv"/>
                    </ComboBox>
                    <Button x:Name="BtnLoad" Content="Yükle" Width="90" Margin="10,0,0,0" Click="BtnLoad_Click"/>
                </StackPanel>

                <!-- Right: Algo -->
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <TextBlock Text="Algoritma:" Foreground="White" VerticalAlignment="Center" Margin="0,0,8,0"/>

                    <!-- ✅ SelectionChanged eklendi -->
                    <ComboBox x:Name="AlgoCombo" Width="170" SelectedIndex="0"
                              SelectionChanged="AlgoCombo_SelectionChanged">
                        <ComboBoxItem Content="Dijkstra"/>
                        <ComboBoxItem Content="A*"/>
                        <ComboBoxItem Content="BFS"/>
                        <ComboBoxItem Content="DFS"/>
                        <ComboBoxItem Content="Bağlı Bileşenler"/>
                        <ComboBoxItem Content="Degree Centrality"/>
                        <ComboBoxItem Content="Welsh-Powell"/>
                    </ComboBox>

                    <Button x:Name="BtnRun" Content="Çalıştır" Width="110" Margin="10,0,0,0" Click="BtnRun_Click"/>
                </StackPanel>

            </DockPanel>
        </Border>

        <!-- MIDDLE -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="320"/>
            </Grid.ColumnDefinitions>

            <!-- Canvas area -->
            <Border Grid.Column="0" CornerRadius="10" Padding="10" Background="#1A1A1A">
                <Grid>
                    <!-- ✅ ScrollViewer + Loaded/SizeChanged + MinWidth/MinHeight eklendi -->
                    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <Canvas x:Name="GraphCanvas"
                                Background="#0F0F0F"
                                MinWidth="900" MinHeight="600"
                                Loaded="GraphCanvas_Loaded"
                                SizeChanged="GraphCanvas_SizeChanged"/>
                    </ScrollViewer>

                    <TextBlock Text="Canvas: Grafik burada çizilecek"
                               Foreground="#777" Margin="8"
                               IsHitTestVisible="False"/>
                </Grid>
            </Border>

            <!-- Right panel -->
            <Border Grid.Column="1" CornerRadius="10" Padding="12" Background="#1A1A1A" Margin="10,0,0,0">
                <StackPanel>
                    <TextBlock Text="Kontroller" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0,0,0,12"/>

                    <TextBlock Text="Başlangıç Node ID" Foreground="White"/>
                    <!-- ✅ read-only -->
                    <TextBox x:Name="TxtStart" Margin="0,6,0,10" IsReadOnly="True"/>

                    <TextBlock Text="Hedef Node ID" Foreground="White"/>
                    <!-- ✅ read-only -->
                    <TextBox x:Name="TxtEnd" Margin="0,6,0,10" IsReadOnly="True"/>

                    <!-- ✅ Checked/Unchecked eklendi -->
                    <CheckBox x:Name="ChkShowIds"
                              Content="Node ID göster"
                              Foreground="White"
                              IsChecked="True"
                              Margin="0,0,0,6"
                              Checked="UiOptionChanged"
                              Unchecked="UiOptionChanged"/>

                    <!-- ✅ Checked/Unchecked eklendi -->
                    <CheckBox x:Name="ChkShowWeights"
                              Content="Ağırlıkları göster"
                              Foreground="White"
                              IsChecked="True"
                              Margin="0,0,0,12"
                              Checked="UiOptionChanged"
                              Unchecked="UiOptionChanged"/>

                    <Button x:Name="BtnClear" Content="Temizle" Height="34" Click="BtnClear_Click"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- LOG -->
        <Border Grid.Row="2" CornerRadius="10" Padding="10" Background="#1A1A1A" Margin="0,10,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Log / Çıktı" Foreground="White" FontWeight="Bold"/>
                <TextBox x:Name="TxtLog" Grid.Row="1" Margin="0,8,0,0"
                         VerticalScrollBarVisibility="Auto"
                         TextWrapping="Wrap"
                         IsReadOnly="True"/>
            </Grid>
        </Border>
    </Grid>
</Window>
